---
title: TileGen Routine
section: Graphics
layout: z80
---

<PRE><OL>
<LI>;======================================
<LI>; tilegen by James Malcolm (me@jgmalcolm.com)
<LI>;  draws 16x8 tile map
<LI>;======================================
<LI>tilegen:
<LI>	ld ix,$fc00
<LI>	ld b,8
<LI>loop_row:
<LI>		push bc
<LI>columns:
<LI>	ld b,16
<LI>loop_columns:
<LI>		push hl
<LI>	ld l,(hl)
<LI>	ld h,0
<LI>	add hl,hl
<LI>	add hl,hl
<LI>	add hl,hl
<LI>
<LI>	ld de,tile0
<LI>	add hl,de
<LI>
<LI>draw_tile:
<LI>	ld de,$10
<LI>	ld c,b
<LI>	ld b,8
<LI>
<LI>		push ix
<LI>draw_tile_loop:
<LI>	ld a,(hl)
<LI>	ld (ix),a
<LI>	add ix,de
<LI>
<LI>	inc hl
<LI>
<LI>	djnz draw_tile_loop
<LI>		pop ix
<LI>
<LI>	ld b,c
<LI>		pop hl
<LI>
<LI>	inc hl
<LI>	inc ix
<LI>	djnz loop_columns
<LI>	ld de,$10*7
<LI>	add ix,de
<LI>		pop bc
<LI>	djnz loop_row
<LI>	ret</PRE>
